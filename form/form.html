<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>お問い合わせフォーム</title>
        <link rel="stylesheet" href="form.css">
    </head>
    <body>
        <h1>お問い合わせ</h1>
        <div class="container">
            <div class="first-parts">
                <p>以下フォームよりお気軽にお問合せください。</p>
                <p>お問い合わせ内容の確認後、担当者よりご連絡させていただきます。</p>
            </div>
                <form action="" class="form-control">
                    <table class="arrange">
                        <tr>
                            <th>
                                <span>お名前</span><span class="haveto">必須</span>
                                <td id="name"><label>姓<input type="text"></label></td>
                                <td id="name2"><label>名<input type="text"></label></td> 
                            </th>
                        </tr>
                        <tr>
                            <th>
                                <span>メールアドレス</span><span class="haveto">必須</span>
                                <td><input type="email" style="width: 220px;"></td>
                            </th>
                        </tr>
                        <tr>
                            <th>
                                <span>電話番号</span><span class="haveto">必須</span>
                                <td><input type="tel" style="width: 220px;"></td>
                            </th>
                        </tr>
                        <tr>
                            <th>
                                <span>お問い合わせ内容</span><span class="haveto">必須</span>
                                <td><textarea name="" id="textarea" cols="30" rows="10"></textarea></td>
                            </th>
                        </tr>
                    </table>
                    <input type="submit" class="submit">
                </form>    
            </div>
        </div>
    
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
    </script>

    <script>
        $(function(){
            $("body").on('mouseenter',function(){
                $(this).css('background-color','yellow');
            })
            .on('mouseleave',function(){
                $(this).css('background-color','rgba(221, 221, 252, 0.87)');
            })
            

            if($("#textarea").val().length == 0){
                $(".submit").prop("disabled",true).css("opacity","0.5");
            }
            $("#textarea").on('keydown keyup keypress change',function() {
                 if($(this).val().length == 0){
                  $(".submit").prop("disabled",true).css("opacity","0.5")
                } else if($(this).val().length > 30){
                    $(".submit").prop("disabled",true).css("opacity","0.5")
                } else {
                    $(".submit").prop("disabled",false).css("opacity","1")
                }
            })
           

            $("#name,#name2").on("change",function(){
                $(".haveto").css("background-color","orange")
            })
        
        
        
        })


    </script>
    
    </body>
</html>